function _createSuper(e){return function(){var t,i=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var c=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"1jS7":function(e,t,i){"use strict";i.d(t,"a",(function(){return J}));var c=i("fXoL"),n=i("7pIB"),r=i("AytR"),a=i("SZGZ"),o=i("jhN1"),s=i("zjBt"),l=i("ofXK");function u(e,t){if(1&e&&c.Xb(0,"img",10),2&e){var i=c.oc(3);c.tc("src",i.getFilePath(i.fichier),c.Gc)}}function d(e,t){if(1&e&&c.Xb(0,"img",10),2&e){var i=c.oc(4);c.Kc("max-width",i.maxWidth)("max-height",i.maxHeight),c.vc("src","./assets/images/placeholder",i.typeImage&&""!==i.typeImage?"_"+i.typeImage:"",".png",c.Gc)}}function f(e,t){if(1&e&&c.Xb(0,"img",10),2&e){var i=c.oc(4);c.Kc("max-width",i.maxWidth)("max-height",i.maxHeight),c.tc("src",i.file.realPath,c.Gc)}}function p(e,t){if(1&e&&(c.ac(0),c.Lc(1,d,1,5,"img",11),c.Lc(2,f,1,5,"img",11),c.Zb()),2&e){var i=c.oc(3);c.Jb(1),c.tc("ngIf",!i.file||!i.file.id),c.Jb(1),c.tc("ngIf",i.file&&i.file.id)}}function b(e,t){if(1&e&&c.Xb(0,"img",10),2&e){var i=c.oc(3);c.tc("src",i.previewFileItem(i.uploader.queue[0]),c.Gc)}}function h(e,t){if(1&e&&(c.cc(0,"div",8),c.Lc(1,u,1,1,"img",9),c.Lc(2,p,3,2,"ng-container",2),c.Lc(3,b,1,1,"img",9),c.bc()),2&e){var i=c.oc(2);c.Jb(1),c.tc("ngIf",!i.uploader.queue.length&&i.fichier&&i.fichier.path),c.Jb(1),c.tc("ngIf",!i.uploader.queue.length&&!i.fichier),c.Jb(1),c.tc("ngIf",i.uploader.queue.length)}}function g(e,t){if(1&e&&(c.cc(0,"div",14),c.Xb(1,"img",15),c.bc()),2&e){var i=t.$implicit,n=c.oc(3);c.Jb(1),c.tc("src",n.previewFileItem(i),c.Gc)}}function v(e,t){if(1&e&&(c.cc(0,"div",12),c.Lc(1,g,2,1,"div",13),c.bc()),2&e){var i=c.oc(2);c.Jb(1),c.tc("ngForOf",i.uploader.queue)}}function m(e,t){if(1&e&&(c.cc(0,"div"),c.Lc(1,h,4,3,"div",5),c.Lc(2,v,2,1,"div",6),c.Xb(3,"div",7),c.bc()),2&e){var i=c.oc();c.Jb(1),c.tc("ngIf",!i.multiple),c.Jb(1),c.tc("ngIf",i.multiple&&i.uploader.queue&&i.uploader.queue.length)}}function y(e,t){if(1&e){var i=c.dc();c.cc(0,"span",19),c.kc("click",(function(){return c.Dc(i),c.Cc(6).click()})),c.cc(1,"span",20),c.Nc(2),c.bc(),c.cc(3,"span",21),c.Nc(4,"Update picture"),c.bc(),c.Xb(5,"input",22,23),c.bc()}if(2&e){var n=c.oc(2);c.Lb("btn btn-fill btn-file "+n.btnClass),c.Jb(2),c.Oc(n.label?n.label:"Upload pictures"),c.Jb(3),c.tc("disabled",n.isLoading)("accept",n.accept)("hidden",!0)("uploader",n.uploader)}}function k(e,t){if(1&e){var i=c.dc();c.cc(0,"div",19),c.kc("click",(function(){return c.Dc(i),c.Cc(6).click()})),c.cc(1,"span",20),c.Nc(2),c.bc(),c.cc(3,"span",21),c.Nc(4,"Update picture"),c.bc(),c.Xb(5,"input",24,23),c.bc()}if(2&e){var n=c.oc(2);c.Lb("btn btn-fill btn-file "+n.btnClass),c.Jb(2),c.Oc(n.label?n.label:"Upload pictures"),c.Jb(3),c.tc("disabled",n.isLoading)("accept",n.accept)("hidden",!0)("uploader",n.uploader)}}function x(e,t){1&e&&(c.cc(0,"a",25),c.Xb(1,"i",26),c.Nc(2," Supprimer"),c.bc())}function _(e,t){if(1&e&&(c.cc(0,"div",16),c.cc(1,"div"),c.Lc(2,y,7,7,"span",17),c.Lc(3,k,7,7,"div",17),c.Xb(4,"br"),c.Lc(5,x,3,0,"a",18),c.bc(),c.bc()),2&e){var i=c.oc();c.Jb(2),c.tc("ngIf",i.multiple),c.Jb(1),c.tc("ngIf",!i.multiple),c.Jb(2),c.tc("ngIf",!i.isLoading)}}function C(e,t){if(1&e&&(c.cc(0,"span",28),c.Nc(1),c.bc()),2&e){var i=c.oc(2);c.Jb(1),c.Oc(i.previewFileItem(i.uploader.queue[0]))}}function I(e,t){1&e&&c.Xb(0,"span",28)}function w(e,t){if(1&e&&(c.cc(0,"div"),c.Lc(1,C,2,1,"span",27),c.Lc(2,I,1,0,"span",27),c.bc()),2&e){var i=c.oc();c.Jb(1),c.tc("ngIf",i.uploader.queue.length),c.Jb(1),c.tc("ngIf",!i.uploader.queue.length&&i.fichier&&i.fichier.path)}}var L=function(e){return{width:e}};function O(e,t){if(1&e&&(c.cc(0,"div",1),c.cc(1,"div",29),c.cc(2,"div",30),c.Nc(3),c.bc(),c.bc(),c.bc()),2&e){var i=c.oc();c.Jb(2),c.tc("ngStyle",c.xc(2,L,i.uploader.progress+"%")),c.Jb(1),c.Pc(" ",i.uploader.progress?i.uploader.progress:0," % ")}}function S(e,t){if(1&e&&(c.cc(0,"div",1),c.cc(1,"label",31),c.Nc(2),c.bc(),c.bc()),2&e){var i=c.oc();c.Jb(2),c.Oc(i.size)}}var J=function(){var e=function(){function e(t,i,n){_classCallCheck(this,e),this.utils=t,this.sanitizer=i,this._localStorageService=n,this.folder="article",this.maxWidth="200px",this.maxHeight="200px",this.typeImage="",this.multiple=!1,this.isVideo=!1,this.isDoc=!1,this.btnClass="btn-warning",this.size="260 X 220",this.onDone=new c.q,this.accept=".png, .jpg, .jpeg, .gif, .mp4",this._result=[],this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.isDoc?this.accept=".pdf, .doc, .docx":this.isVideo&&(this.accept=".mp4"),this.uploader=this.loadFileUploader(this.endpoint,{})}},{key:"loadFileUploader",value:function(e,t){var i=this,c={};for(var a in t)t[a]&&(c[a]=t[a]);var o=new n.c({url:r.a.API_URL+e,headers:[{name:"generateThumb",value:"true"},{name:"path",value:this.folder},{name:"name",value:this.typeImage+(this.objectId?this.objectId:this._objectId())}],isHTML5:!0});return o.setOptions({isHTML5:!0,additionalParameter:c}),o.onBeforeUploadItem=function(e){i.isLoading=!0,e.withCredentials=!1},o.onErrorItem=function(e,t,i,c){},o.onAfterAddingFile=function(e){o.setOptions({additionalParameter:{name:i.typeImage+(i.objectId?i.objectId:i._objectId()),path:i.folder,type:i.typeImage}}),o.queue.length>1&&!i.multiple&&o.queue.shift()},o.onCompleteItem=function(e,t,c,n){try{var r=JSON.parse(t);i.multiple?(i._result.push(r.document),o.removeFromQueue(e)):o.clearQueue(),i.endUploaded(r)}catch(a){console.log(a)}},o}},{key:"endUploaded",value:function(e){0===this.uploader.queue.length&&(this.isLoading=!1,this.onDone.emit(!0===this.multiple?this._result:e))}},{key:"uploadFileNow",value:function(){this.uploader.getNotUploadedItems().length>0?this.uploader.uploadAll():this.endUploaded(!0)}},{key:"getFilePath",value:function(e){return this.utils.getfile(e.path,this.folder)}},{key:"previewFileItem",value:function(e){return this.isVideo||this.isDoc?e._file.name:this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e._file))}},{key:"updateHeaders",value:function(e,t,i){var c=[{name:"generateThumb",value:"true"},{name:"path",value:e},{name:"name",value:t}];i&&c.push({name:"categoryId",value:i}),"uploadGallery"===this.endpoint&&c.push({name:"type",value:this.typeImage}),this.uploader.setOptions({headers:c})}},{key:"_objectId",value:function(){return((new Date).getTime()/1e3|0).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)})).toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Wb(a.a),c.Wb(o.b),c.Wb(s.a))},e.\u0275cmp=c.Qb({type:e,selectors:[["app-file-uploader"]],inputs:{label:"label",folder:"folder",endpoint:"endpoint",fichier:"fichier",edition:"edition",maxWidth:"maxWidth",maxHeight:"maxHeight",typeImage:"typeImage",multiple:"multiple",isVideo:"isVideo",isDoc:"isDoc",objectId:"objectId",file:"file",btnClass:"btnClass",size:"size"},outputs:{onDone:"onDone"},decls:7,vars:5,consts:[["data-provides","fileinput",1,"fileinput","fileinput-new","text-center"],[1,"col-md-12"],[4,"ngIf"],["class","col-md-12 pl-0 pr-0",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","fileinput-new thumbnail",4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"fileinput-preview","fileinput-exists","thumbnail"],[1,"fileinput-new","thumbnail"],["alt","...",3,"src",4,"ngIf"],["alt","...",3,"src"],["alt","...",3,"max-width","max-height","src",4,"ngIf"],[1,"d-flex"],["class","m-2 image-container",4,"ngFor","ngForOf"],[1,"m-2","image-container"],["alt","...",1,"mg-fluid","img-thumbnail",2,"width","150px",3,"src"],[1,"col-md-12","pl-0","pr-0"],[3,"class","click",4,"ngIf"],["href","javascript:void()","class","btn btn-danger btn-fill fileinput-exists","data-dismiss","fileinput",4,"ngIf"],[3,"click"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","multiple","","ng2FileSelect","",3,"disabled","accept","hidden","uploader"],["uploadInput",""],["type","file","ng2FileSelect","",3,"disabled","accept","hidden","uploader"],["href","javascript:void()","data-dismiss","fileinput",1,"btn","btn-danger","btn-fill","fileinput-exists"],[1,"fa","fa-times"],["class","s-title",4,"ngIf"],[1,"s-title"],[1,"progress",2,"height","10px"],["role","progressbar",1,"progress-bar","bg-info","progress-bar-striped",3,"ngStyle"],[1,"text-center","text-dark"]],template:function(e,t){1&e&&(c.cc(0,"div",0),c.cc(1,"div",1),c.Lc(2,m,4,2,"div",2),c.bc(),c.Lc(3,_,6,3,"div",3),c.Lc(4,w,3,2,"div",2),c.Lc(5,O,4,4,"div",4),c.Lc(6,S,3,1,"div",4),c.bc()),2&e&&(c.Jb(2),c.tc("ngIf",!t.isVideo&&!t.isDoc),c.Jb(1),c.tc("ngIf",t.uploader),c.Jb(1),c.tc("ngIf",t.isVideo||t.isDoc),c.Jb(1),c.tc("ngIf",t.uploader.queue.length&&t.isLoading),c.Jb(1),c.tc("ngIf",!t.isDoc))},directives:[l.l,l.k,n.a,l.m],styles:[".fileinput[_ngcontent-%COMP%]{margin-bottom:0}"]}),e}()},"68nU":function(e,t,i){"use strict";i.r(t);var c=i("fXoL"),n=i("ofXK"),r=i("ZOsW"),a=i("0IaG"),o=i("3Pt+"),s=i("tyNb"),l=i("mrSG"),u=i("tuSX"),d=(i("t/4F"),i("FaTO"),i("1jS7")),f=i("/oLh"),p=i("ucZH"),b=i("eQ+J");function h(e,t){if(1&e){var i=c.dc();c.cc(0,"div",7),c.cc(1,"form",8),c.kc("ngSubmit",(function(){return c.Dc(i),c.oc().submit()})),c.cc(2,"div",9),c.cc(3,"app-file-uploader",10,11),c.kc("onDone",(function(e){return c.Dc(i),c.oc().end(e)})),c.bc(),c.bc(),c.cc(5,"div",12),c.Xb(6,"ng-select",13),c.bc(),c.cc(7,"div",14),c.cc(8,"button",15),c.Nc(9,"Upload photos"),c.bc(),c.bc(),c.bc(),c.bc()}if(2&e){var n=c.oc();c.Jb(1),c.tc("formGroup",n.form),c.Jb(2),c.tc("file",null==n.data?null:n.data.document)("edition",n.edition),c.Jb(2),c.tc("ngClass",n.displayFieldCss(n.form,"category_id")),c.Jb(1),c.tc("items",n.categories)("multiple",!1)("searchable",!1)("clearable",!1),c.Jb(2),c.tc("disabled",n.isLoading)}}i("NzRR");var g,v=((g=function(){function e(t,i,c,n,r,a){_classCallCheck(this,e),this.dialogRef=t,this._galleryCategoryService=i,this._formHelperService=c,this._toasterService=n,this._fb=r,this.data=a,this.edition=!1}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isLoading=!0,this.data&&(this.edition=!0),this.form=this._fb.group({category_id:[this.data?this.data.category_id:"",o.v.required]}),this.loadCat(),this.isLoading=!1;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"loadCat",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,this._galleryCategoryService.list(1,250).toPromise();case 4:this.categories=e.sent,this.isLoading=!1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.isLoading=!1,console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})))}},{key:"onClose",value:function(){this.dialogRef.close()}},{key:"end",value:function(e){this._toasterService.success("Gallery added successfully"),this.isLoading=!1,this.dialogRef.close(!0)}},{key:"submit",value:function(){if(!this.form.valid)return this._toasterService.error("Please fill form"),void this._formHelperService.validateAllFormFields(this.form);this.uploader.updateHeaders("galery","".concat(this.form.value.category_id,"_").concat(Date.now()),this.form.value.category_id),this.uploader.uploadFileNow()}},{key:"displayFieldCss",value:function(e,t){return{"has-error":this._formHelperService.isFieldValid(e,t),"has-feedback":this._formHelperService.isFieldValid(e,t)}}}]),e}()).\u0275fac=function(e){return new(e||g)(c.Wb(a.f),c.Wb(f.a),c.Wb(p.a),c.Wb(b.a),c.Wb(o.d),c.Wb(a.a))},g.\u0275cmp=c.Qb({type:g,selectors:[["app-modal-add"]],viewQuery:function(e,t){var i;1&e&&c.Tc(d.a,!0),2&e&&c.Bc(i=c.lc())&&(t.uploader=i.first)},decls:11,vars:1,consts:[[1,"row"],[1,"col-lg-12"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"color","black"],[1,"title-2"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],["novalidate","",1,"offset-sm-1","offset-md-1","offset-lg-2","col-sm-10","col-md-10","col-lg-8",3,"formGroup","ngSubmit"],[1,"form-group"],["maxWidth","120px","label","Select files","size","260 X 220","btnClass","btn-secondary","endpoint","uploadGallery","typeImage","gallery","folder","galery",3,"file","edition","onDone"],["uploader",""],[1,"form-group",3,"ngClass"],["bindLabel","name","bindValue","id","placeholder","Choose Category","formControlName","category_id",1,"btn-outline-dark",3,"items","multiple","searchable","clearable"],[1,""],["type","submit",1,"btn","btn-warning",3,"disabled"]],template:function(e,t){1&e&&(c.cc(0,"mat-dialog-content"),c.cc(1,"div",0),c.cc(2,"div",1),c.cc(3,"button",2),c.kc("click",(function(){return t.onClose()})),c.cc(4,"span",3),c.Nc(5,"\xd7"),c.bc(),c.bc(),c.cc(6,"h2",4),c.Nc(7,"Photos "),c.cc(8,"span",5),c.Nc(9,"(Gallery section)"),c.bc(),c.bc(),c.bc(),c.bc(),c.Lc(10,h,10,9,"div",6),c.bc()),2&e&&(c.Jb(10),c.tc("ngIf",t.form))},directives:[a.d,n.l,o.x,o.o,o.h,d.a,n.j,r.a,o.n,o.f],styles:[".clr[_ngcontent-%COMP%]{color:#000}.title-2[_ngcontent-%COMP%]{font-size:24px;font-weight:100!important;font-family:SourceSansPro-Light}"]}),g),m=i("AytR"),y=i("eU2y"),k=i("SZGZ"),x=i("oOf3");function _(e,t){if(1&e){var i=c.dc();c.cc(0,"tr"),c.cc(1,"td",33),c.Nc(2),c.bc(),c.cc(3,"td",33),c.Nc(4),c.bc(),c.cc(5,"td",33),c.Xb(6,"img",34),c.bc(),c.cc(7,"td",35),c.Nc(8,"\xa0 "),c.cc(9,"a",36),c.kc("click",(function(){c.Dc(i);var e=t.$implicit;return c.oc(2).delete(e)})),c.Nc(10,"DELETE"),c.bc(),c.bc(),c.bc()}if(2&e){var n=t.$implicit,r=c.oc(2);c.Jb(2),c.Oc(n.id),c.Jb(2),c.Oc(r.getCategory(n.category_id)),c.Jb(2),c.tc("src",n.document.realPath,c.Gc)}}var C=function(e,t,i){return{id:"page",itemsPerPage:e,currentPage:t,totalItems:i}};function I(e,t){if(1&e&&(c.cc(0,"tbody",31),c.Lc(1,_,11,3,"tr",32),c.pc(2,"paginate"),c.bc()),2&e){var i=c.oc();c.Jb(1),c.tc("ngForOf",c.qc(2,1,i.rows,c.zc(4,C,i.pageSize,i.page,i.pageLength)))}}function w(e,t){if(1&e){var i=c.dc();c.cc(0,"a",39),c.kc("click",(function(){c.Dc(i);var e=c.oc().$implicit;return c.oc(),c.Cc(40).setCurrent(e.value)})),c.Nc(1),c.bc()}if(2&e){var n=c.oc().$implicit;c.oc();var r=c.Cc(40);c.Nb("active",r.getCurrent()===n.value),c.Jb(1),c.Oc(n.label)}}function L(e,t){if(1&e&&(c.cc(0,"a",40),c.Nc(1),c.bc()),2&e){var i=c.oc().$implicit;c.Jb(1),c.Oc(i.label)}}function O(e,t){if(1&e&&(c.cc(0,"li",24),c.Lc(1,w,2,3,"a",37),c.Lc(2,L,2,1,"a",38),c.bc()),2&e){var i=t.$implicit;c.oc();var n=c.Cc(40);c.Jb(1),c.tc("ngIf",n.getCurrent()!==i.value),c.Jb(1),c.tc("ngIf",n.getCurrent()===i.value)}}var S,J,P=[{path:"",component:(S=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,c,n,r,a,o){var s;return _classCallCheck(this,i),(s=t.call(this))._galleryService=e,s._router=c,s._utils=n,s.dialog=r,s._toasterService=a,s._galleryCategoryService=o,s.pageSize=10,s.searchString="",s.searchUpdated$.debounceTime(600).distinctUntilChanged().subscribe((function(e){s.loadData()})),s}return _createClass(i,[{key:"ngOnInit",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,this._galleryService.totalCount$.subscribe((function(e){t.pageLength=e})),e.next=4,this.loadGalleryCat();case 4:return e.next=6,this.loadDocs();case 6:return e.next=8,this.loadData(this.page,this.pageSize);case 8:this.isLoading=!1;case 9:case"end":return e.stop()}}),e,this)})))}},{key:"loadData",value:function(e,t){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.isLoading=!0,e&&(this.page=e),c={searchFields:"type",excerpt:!0},this.searchString&&(c.searchValue=this.searchString),i.prev=3,i.next=6,this._galleryService.list(e,t,c).toPromise();case 6:this.rows=i.sent,this.isLoading=!1,console.log("this.rows",this.rows),this._router.navigate([],{queryParams:{page:this.page||void 0,q:this.searchString||void 0}}),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(3),this.isLoading=!1,console.error(i.t0);case 15:case"end":return i.stop()}}),i,this,[[3,12]])})))}},{key:"loadGalleryCat",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,this._galleryCategoryService.list(1,250).toPromise();case 4:this.galleryCat=e.sent,this.isLoading=!1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.isLoading=!1,console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})))}},{key:"loadDocs",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,this._galleryCategoryService.list(1,250).toPromise();case 4:this.galleryCat=e.sent,this.isLoading=!1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.isLoading=!1,console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})))}},{key:"getCategory",value:function(e){var t=this.galleryCat.find((function(t){return t.id===e}));return t?t.name:""}},{key:"realPath",value:function(e){return e.startsWith("http")?e:m.a.DATA_ENDPOINT+"/"+e}},{key:"delete",value:function(e){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._utils.confirm("Are you really want to delete the gallery ?");case 3:if(t.t0=t.sent,!t.t0){t.next=11;break}return this.isLoading=!0,t.next=8,this._galleryService.delete(e).toPromise();case 8:return t.next=10,this.loadData();case 10:this.isLoading=!1;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(0),this.isLoading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,13]])})))}},{key:"add",value:function(e){var t=this;try{this.dialog.open(v,{width:"650px",data:e||""}).afterClosed().subscribe((function(e){return Object(l.b)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(this.isLoading=!1,this.ngOnInit());case 1:case"end":return t.stop()}}),t,this)})))}))}catch(i){this.isLoading=!1}}},{key:"back",value:function(){this._router.navigate(["/post"])}}]),i}(u.a),S.\u0275fac=function(e){return new(e||S)(c.Wb(y.a),c.Wb(s.b),c.Wb(k.a),c.Wb(a.b),c.Wb(b.a),c.Wb(f.a))},S.\u0275cmp=c.Qb({type:S,selectors:[["app-list"]],features:[c.Gb],decls:58,vars:10,consts:[["id","admin",1,"main-content","container"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"title"],[1,"btn","btn-secondary","btn-large","capitalize","mt-2",3,"click"],[1,"fa","fa-arrow-left"],[1,"title-2"],[1,"btn","btn-warning","ml-4",3,"click"],[1,"col-md-12","mt-2"],[1,"col-md-6","d-flex","mt-4"],[1,"col-xs-12","col-md-10","content","table-responsive","mt-4"],[1,"table","table-hover"],[1,"text-left","border-top-0"],[1,"text-left","border-top-0",2,"width","200px"],["class","pt-3",4,"ngIf"],[1,"progress-loader","text-center",3,"hidden"],["src","assets/images/loadbk.gif"],[1,"col-lg-12","pb-4","mt-5","mb-4","footer-pager","text-center"],[1,"col","text-right"],["id","page",3,"pageChange"],["p","paginationApi"],[1,"mx-auto"],[1,"pagination","mx-auto"],[1,"page-item"],[1,"page-link","prev",3,"click"],["aria-hidden","true"],[1,"sr-only"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-link","next",3,"click"],[1,"text-center"],[1,"pt-3"],[4,"ngFor","ngForOf"],[1,"text-left"],["alt","photo",1,"img-responsive","photo-gallery",3,"src"],[1,"td-actions","text-right"],[1,"btn","btn","btn-outline-danger","text-danger","btn-link","btn-xs",3,"click"],["class","page-link",3,"active","click",4,"ngIf"],["class","page-link active",4,"ngIf"],[1,"page-link",3,"click"],[1,"page-link","active"]],template:function(e,t){if(1&e){var i=c.dc();c.cc(0,"div",0),c.cc(1,"div",1),c.cc(2,"div",2),c.cc(3,"div",3),c.cc(4,"h4",4),c.Nc(5,"Welcome Admin."),c.bc(),c.cc(6,"button",5),c.kc("click",(function(){return t.back()})),c.Xb(7,"i",6),c.Nc(8," Back "),c.bc(),c.Xb(9,"br"),c.Xb(10,"br"),c.cc(11,"p",7),c.Nc(12,"List Gallery images "),c.cc(13,"button",8),c.kc("click",(function(){return t.add()})),c.Nc(14," Add "),c.bc(),c.bc(),c.bc(),c.cc(15,"div",9),c.Xb(16,"hr"),c.bc(),c.cc(17,"div",10),c.cc(18,"p",7),c.Nc(19,"Gallery images"),c.bc(),c.bc(),c.Xb(20,"div",10),c.cc(21,"div",9),c.Xb(22,"hr"),c.bc(),c.cc(23,"div",11),c.cc(24,"table",12),c.cc(25,"thead"),c.cc(26,"tr"),c.cc(27,"th",13),c.Nc(28,"S.No"),c.bc(),c.cc(29,"th",13),c.Nc(30,"Caterories"),c.bc(),c.cc(31,"th",13),c.Nc(32,"Photos"),c.bc(),c.Xb(33,"th",14),c.bc(),c.bc(),c.Lc(34,I,3,8,"tbody",15),c.bc(),c.cc(35,"div",16),c.Xb(36,"img",17),c.bc(),c.bc(),c.cc(37,"div",18),c.cc(38,"div",19),c.cc(39,"pagination-template",20,21),c.kc("pageChange",(function(e){return t.pageChangeEvent(e)})),c.cc(41,"nav",22),c.cc(42,"ul",23),c.cc(43,"li",24),c.cc(44,"a",25),c.kc("click",(function(){c.Dc(i);var e=c.Cc(40);return!e.isFirstPage()&&e.previous()})),c.cc(45,"span",26),c.Nc(46,"\xab"),c.bc(),c.cc(47,"span",27),c.Nc(48,"Previous"),c.bc(),c.bc(),c.bc(),c.Lc(49,O,3,2,"li",28),c.cc(50,"li",24),c.cc(51,"a",29),c.kc("click",(function(){c.Dc(i);var e=c.Cc(40);return!e.isLastPage()&&e.next()})),c.cc(52,"span",26),c.Nc(53,"\xbb"),c.bc(),c.cc(54,"span",27),c.Nc(55,"Next"),c.bc(),c.bc(),c.bc(),c.bc(),c.bc(),c.cc(56,"h4",30),c.Nc(57),c.bc(),c.bc(),c.bc(),c.bc(),c.bc(),c.bc(),c.bc()}if(2&e){var n=c.Cc(40);c.Jb(34),c.tc("ngIf",t.rows&&t.rows.length),c.Jb(1),c.tc("hidden",!t.isLoading),c.Jb(8),c.Nb("disabled",n.isFirstPage()),c.Jb(6),c.tc("ngForOf",n.pages),c.Jb(1),c.Nb("disabled",n.isLastPage()),c.Jb(7),c.Rc("",t.page," to ",t.pageSize*t.page," of ",t.pageLength," totals")}},directives:[n.l,x.c,n.k],pipes:[x.b],styles:[""]}),S)}],N=((J=function e(){_classCallCheck(this,e)}).\u0275mod=c.Ub({type:J}),J.\u0275inj=c.Tb({factory:function(e){return new(e||J)},imports:[[s.f.forChild(P)],s.f]}),J),j=i("7pIB"),R=i("j1ZV"),D=i("CzEO");i.d(t,"GalleryModule",(function(){return X}));var F,X=((F=function e(){_classCallCheck(this,e)}).\u0275mod=c.Ub({type:F}),F.\u0275inj=c.Tb({factory:function(e){return new(e||F)},providers:[{provide:c.y,useValue:"fr-FR"}],imports:[[n.b,R.a,o.j,o.t,r.b,a.e,N,j.b,x.a,D.b.forRoot({modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}]]}})]]}),F)},s43p:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var c=i("mrSG"),n=i("E8I7"),r=i("VeED"),a=i("AytR"),o=function(){var e=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,c){return _classCallCheck(this,i),t.call(this,e)}return _createClass(i,[{key:"realPath",get:function(){return this.path.startsWith("http")?this.path:a.a.DATA_ENDPOINT+"/"+this.path}}]),i}(n.a);return Object(c.c)([Object(r.jsonIgnore)()],e.prototype,"realPath",null),e}()}}]);